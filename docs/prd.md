# PRD (Product Requirements Document)
# 체험단 매칭 플랫폼 "1st_bungae"

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| **문서명** | 체험단 매칭 플랫폼 PRD |
| **프로젝트명** | 1st_bungae |
| **버전** | 1.0.0 |
| **작성일** | 2025-11-14 |
| **문서 목적** | 체험단 플랫폼의 제품 요구사항 정의 및 개발 가이드 제공 |

---

## 목차

1. [제품 개요](#1-제품-개요)
2. [Stakeholders](#2-stakeholders)
3. [포함 페이지](#3-포함-페이지)
4. [사용자 여정](#4-사용자-여정)
5. [IA (Information Architecture)](#5-ia-information-architecture)
6. [기능 요구사항](#6-기능-요구사항)
7. [비기능 요구사항](#7-비기능-요구사항)
8. [기술 스택](#8-기술-스택)
9. [데이터 모델](#9-데이터-모델)
10. [제약사항 및 가정](#10-제약사항-및-가정)

---

## 1. 제품 개요

### 1.1 제품 비전

**"광고주와 인플루언서를 연결하는 간편한 체험단 매칭 플랫폼"**

1st_bungae는 제품/서비스를 홍보하고자 하는 광고주와 체험 리뷰를 통해 수익을 창출하고자 하는 인플루언서를 연결하는 양방향 매칭 플랫폼입니다.

### 1.2 핵심 목표

#### 비즈니스 목표
- 광고주와 인플루언서 간 효율적인 매칭 제공
- 투명한 체험단 모집 및 선정 프로세스 구축
- 양측 사용자 모두에게 신뢰할 수 있는 플랫폼 제공

#### 사용자 목표

**광고주 (Advertiser)**
- 빠르고 간편하게 체험단을 모집하고 관리
- 적합한 인플루언서를 선정하여 효과적인 마케팅 수행

**인플루언서 (Influencer)**
- 자신의 채널에 맞는 체험단을 쉽게 탐색하고 지원
- 투명한 선정 프로세스를 통한 신뢰성 확보

### 1.3 제품 범위

#### Phase 1 (MVP - 현재 문서 범위)
- 이메일 기반 회원가입/로그인
- 광고주/인플루언서 정보 등록
- 체험단 생성, 탐색, 지원
- 광고주 대시보드 (모집 관리, 인플루언서 선정)

#### Phase 2 (향후 확장)
- 소셜 로그인 (카카오, 네이버 등)
- 실시간 알림 (Supabase Realtime)
- 리뷰 제출 및 검수 기능
- 결제 시스템 연동

---

## 2. Stakeholders

### 2.1 주요 이해관계자

| 역할 | 설명 | 책임 |
|------|------|------|
| **광고주 (Advertiser)** | 제품/서비스를 홍보하고자 하는 사업자 | 체험단 생성, 인플루언서 선정, 리뷰 관리 |
| **인플루언서 (Influencer)** | SNS 채널을 보유하고 체험 리뷰를 작성하는 사용자 | 체험단 지원, 리뷰 작성 및 게시 |
| **플랫폼 운영자 (Admin)** | 플랫폼 관리 및 운영 담당 (Phase 2) | 사용자 관리, 신고 처리, 통계 모니터링 |

### 2.2 사용자 페르소나

#### 페르소나 1: 소상공인 광고주 (김사장, 35세, 카페 운영)

**배경**
- 서울 강남구에서 신규 카페 오픈
- 마케팅 예산 한정적 (월 50만원)
- SNS 마케팅 경험 부족

**니즈**
- 빠르게 입소문을 내고 싶음
- 적은 비용으로 효과적인 홍보 필요
- 인플루언서 직접 컨택하기 어려움

**페인 포인트**
- 어떤 인플루언서가 적합한지 모름
- 비용 협상 및 계약서 작성 부담
- 리뷰 품질 관리 어려움

**기대 효과**
- 플랫폼을 통한 간편한 체험단 모집
- 투명한 선정 프로세스로 신뢰성 확보
- 효율적인 마케팅 비용 집행

---

#### 페르소나 2: 마이크로 인플루언서 (이유튜버, 28세, 파트타임 크리에이터)

**배경**
- 유튜브 구독자 3만명 (뷰티/라이프 채널)
- 인스타그램 팔로워 1.5만명
- 직장 다니며 부업으로 콘텐츠 제작

**니즈**
- 꾸준한 협찬 기회 확보
- 채널 콘셉트에 맞는 제품 체험
- 부가 수입 창출

**페인 포인트**
- 협찬 제안 메일 관리 어려움
- 신뢰할 수 없는 업체 구분 힘듦
- 계약 조건이 불명확한 경우 많음

**기대 효과**
- 다양한 체험단을 한 곳에서 탐색
- 투명한 조건으로 안심하고 지원
- 효율적인 콘텐츠 제작 일정 관리

---

## 3. 포함 페이지

### 3.1 페이지 구조

#### 공통 페이지
1. **홈 (Home)** - 체험단 탐색
2. **로그인 (Login)** - Supabase Auth (Email)
3. **회원가입 (Register)** - Supabase Auth (Email)

#### 회원 유형 선택 및 정보 등록
4. **광고주 정보 등록 (Advertiser Registration)**
5. **인플루언서 정보 등록 (Influencer Registration)**

#### 체험단 관련
6. **체험단 상세 (Campaign Detail)**
7. **체험단 지원 (Campaign Application)**

#### 광고주 전용
8. **광고주 대시보드 (Advertiser Dashboard)**
9. **광고주 체험단 상세 (Advertiser Campaign Detail)**

### 3.2 페이지별 접근 권한

| 페이지 | 비로그인 | 로그인 | 광고주 | 인플루언서 |
|--------|----------|--------|--------|------------|
| 홈 (체험단 탐색) | ✅ | ✅ | ✅ | ✅ |
| 로그인 | ✅ | ❌ (리다이렉트) | ❌ | ❌ |
| 회원가입 | ✅ | ❌ (리다이렉트) | ❌ | ❌ |
| 광고주 정보 등록 | ❌ | ✅ | ✅ (수정) | ❌ |
| 인플루언서 정보 등록 | ❌ | ✅ | ❌ | ✅ (수정) |
| 체험단 상세 | ✅ | ✅ | ✅ | ✅ |
| 체험단 지원 | ❌ | ❌ | ❌ | ✅ (인플루언서 정보 등록 필수) |
| 광고주 대시보드 | ❌ | ❌ | ✅ | ❌ |
| 광고주 체험단 상세 | ❌ | ❌ | ✅ (본인 체험단만) | ❌ |

---

## 4. 사용자 여정

### 4.1 광고주 여정 (Advertiser Journey)

#### Segment: 신규 가입 광고주

**목표**: 첫 체험단 모집 완료

**단계**:

1. **회원가입 및 정보 등록** (페이지: 회원가입 → 광고주 정보 등록)
   - 이메일로 회원가입
   - 광고주 정보 입력
     - 이름, 생년월일, 휴대폰번호 (공통)
     - 업체명, 주소, 업장 전화번호, 사업자등록번호, 대표자명
   - 정보 검증 및 저장

2. **체험단 생성** (페이지: 광고주 대시보드)
   - 대시보드 진입
   - 체험단 생성 폼 작성
     - 체험단명, 설명, 모집 인원, 제공 내역, 리뷰 조건 등
   - 체험단 공개

3. **지원자 확인** (페이지: 광고주 체험단 상세)
   - 지원자 목록 조회
   - 인플루언서 프로필 확인 (채널명, 팔로워 수, SNS 링크)

4. **모집 종료 및 선정** (페이지: 광고주 체험단 상세)
   - 모집 조기 종료 (옵션)
   - 지원자 중 인플루언서 선정
   - 선정 알림 (Phase 2)

---

#### Segment: 체험단 관리 중인 광고주

**목표**: 진행 중인 체험단 모니터링 및 관리

**단계**:

1. **대시보드 접속** (페이지: 광고주 대시보드)
   - 모집 중/진행 중/완료 체험단 현황 확인

2. **체험단 상세 관리** (페이지: 광고주 체험단 상세)
   - 지원 현황 모니터링
   - 모집 조기 종료 (필요시)
   - 추가 인플루언서 선정 (모집 종료 후)

3. **리뷰 확인** (Phase 2)
   - 인플루언서가 작성한 리뷰 확인
   - 피드백 제공

---

### 4.2 인플루언서 여정 (Influencer Journey)

#### Segment: 신규 가입 인플루언서

**목표**: 첫 체험단 지원 완료

**단계**:

1. **회원가입 및 정보 등록** (페이지: 회원가입 → 인플루언서 정보 등록)
   - 이메일로 회원가입
   - 인플루언서 정보 입력
     - 이름, 생년월일, 휴대폰번호 (공통)
     - SNS 채널명, 채널 링크, 팔로워 수
   - 정보 검증 및 저장

2. **체험단 탐색** (페이지: 홈)
   - 체험단 목록 탐색
   - 관심 분야 필터링 (Phase 2)
   - 체험단 상세 조회

3. **체험단 지원** (페이지: 체험단 상세 → 체험단 지원)
   - 지원 버튼 클릭
   - 지원 메시지 작성 (옵션)
   - 지원 완료

4. **선정 대기** (페이지: 내 지원 현황 - Phase 2)
   - 지원한 체험단 목록 확인
   - 선정 결과 알림 수신

---

#### Segment: 활동 중인 인플루언서

**목표**: 지속적으로 체험단 참여 및 리뷰 작성

**단계**:

1. **체험단 탐색** (페이지: 홈)
   - 신규 체험단 확인
   - 관심 체험단 북마크 (Phase 2)

2. **체험단 지원** (페이지: 체험단 지원)
   - 여러 체험단 동시 지원 가능

3. **리뷰 작성 및 제출** (Phase 2)
   - 선정된 체험단 리뷰 작성
   - 플랫폼에 리뷰 링크 제출
   - 리뷰 승인 대기

4. **보상 수령** (Phase 2)
   - 리뷰 승인 후 보상 수령

---

## 5. IA (Information Architecture)

### 5.1 사이트맵 (Tree 구조)

```
1st_bungae
│
├── [공통] 홈 (/)
│   └── 체험단 목록
│       └── 체험단 카드
│           └── 체험단 상세 (/campaign/{id})
│               ├── [인플루언서 전용] 체험단 지원 버튼
│               └── [인플루언서 전용] 지원 폼 (/campaign/{id}/apply)
│
├── [비로그인] 인증
│   ├── 로그인 (/auth/login)
│   └── 회원가입 (/auth/register)
│       ├── 회원가입 완료 후 유형 선택
│       ├── → [광고주] 광고주 정보 등록 (/advertiser/register)
│       └── → [인플루언서] 인플루언서 정보 등록 (/influencer/register)
│
├── [광고주 전용] 광고주 영역
│   ├── 광고주 대시보드 (/advertiser/dashboard)
│   │   ├── 체험단 생성 버튼
│   │   ├── 모집 중인 체험단 목록
│   │   ├── 진행 중인 체험단 목록
│   │   └── 완료된 체험단 목록
│   │
│   └── 광고주 체험단 상세 (/advertiser/campaign/{id})
│       ├── 체험단 정보
│       ├── 지원자 목록
│       │   └── 지원자 프로필
│       ├── 모집 조기 종료 버튼
│       └── 인플루언서 선정 버튼
│
└── [인플루언서 전용] 인플루언서 영역
    ├── 인플루언서 프로필 (/influencer/profile)
    └── [Phase 2] 내 지원 현황 (/influencer/applications)
        ├── 지원 대기 중
        ├── 선정됨
        └── 완료
```

### 5.2 네비게이션 구조

#### 글로벌 네비게이션 (모든 페이지 공통)

**비로그인 상태**
```
Logo | 체험단 탐색 | 로그인 | 회원가입
```

**로그인 상태 (광고주)**
```
Logo | 체험단 탐색 | 내 대시보드 | 프로필 | 로그아웃
```

**로그인 상태 (인플루언서)**
```
Logo | 체험단 탐색 | 내 지원현황(Phase2) | 프로필 | 로그아웃
```

---

## 6. 기능 요구사항

### 6.1 인증 및 회원가입 (Authentication & Registration)

#### 6.1.1 회원가입 (Register)

**기능 설명**
- Supabase Auth를 사용한 이메일 기반 회원가입

**입력 필드**
- 이메일 (email): 이메일 형식 검증
- 비밀번호 (password): 최소 8자 이상
- 비밀번호 확인 (password_confirm): 비밀번호 일치 검증

**프로세스**
1. 사용자가 회원가입 폼 작성
2. 프론트엔드에서 유효성 검증 (WTForms)
3. Supabase Auth API 호출하여 사용자 생성
4. 회원가입 성공 시 User 테이블에 기본 정보 저장 (user_id, email)
5. 회원 유형 선택 페이지로 리다이렉트

**비즈니스 규칙**
- 이메일은 중복될 수 없음
- 비밀번호는 최소 8자 이상이어야 함
- 회원가입 직후 광고주/인플루언서 정보를 입력해야 함

---

#### 6.1.2 로그인 (Login)

**기능 설명**
- Supabase Auth를 사용한 이메일 로그인

**입력 필드**
- 이메일 (email)
- 비밀번호 (password)

**프로세스**
1. 사용자가 로그인 폼 작성
2. Supabase Auth API 호출하여 인증
3. 인증 성공 시 세션 생성 (Flask-Login)
4. 사용자 역할에 따라 적절한 페이지로 리다이렉트
   - 광고주: 광고주 대시보드
   - 인플루언서: 홈 (체험단 탐색)
   - 정보 미등록: 정보 등록 페이지

**비즈니스 규칙**
- 이메일/비밀번호 불일치 시 에러 메시지 표시
- 로그인 실패 5회 이상 시 계정 잠금 (Phase 2)

---

### 6.2 사용자 정보 등록 (User Profile)

#### 6.2.1 광고주 정보 등록 (Advertiser Registration)

**기능 설명**
- 광고주가 사업자 정보를 등록하여 체험단 생성 권한 획득

**입력 필드**

**공통 정보**
- 이름 (name): 필수
- 생년월일 (birth_date): 필수, YYYY-MM-DD 형식
- 휴대폰번호 (phone_number): 필수, 010-XXXX-XXXX 형식

**광고주 전용 정보**
- 업체명 (business_name): 필수
- 주소 (address): 필수
- 업장 전화번호 (business_phone): 필수
- 사업자등록번호 (business_number): 필수, 10자리 숫자
- 대표자명 (representative_name): 필수

**프로세스**
1. 회원가입 완료 후 "광고주로 가입" 선택
2. 광고주 정보 등록 폼 작성
3. 사업자등록번호 형식 검증
4. Advertiser 테이블에 정보 저장
5. User 테이블의 role 필드를 "advertiser"로 업데이트
6. 광고주 대시보드로 리다이렉트

**비즈니스 규칙**
- 사업자등록번호는 10자리 숫자여야 함
- 동일한 사업자등록번호는 중복 등록 불가
- 광고주 정보를 등록해야 체험단 생성 가능

---

#### 6.2.2 인플루언서 정보 등록 (Influencer Registration)

**기능 설명**
- 인플루언서가 SNS 채널 정보를 등록하여 체험단 지원 권한 획득

**입력 필드**

**공통 정보**
- 이름 (name): 필수
- 생년월일 (birth_date): 필수, YYYY-MM-DD 형식
- 휴대폰번호 (phone_number): 필수, 010-XXXX-XXXX 형식

**인플루언서 전용 정보**
- SNS 채널명 (channel_name): 필수
- 채널 링크 (channel_url): 필수, URL 형식 검증
- 팔로워 수 (follower_count): 필수, 양수 정수
- 채널 유형 (channel_type): 선택, (예: 유튜브, 인스타그램, 블로그 등)

**프로세스**
1. 회원가입 완료 후 "인플루언서로 가입" 선택
2. 인플루언서 정보 등록 폼 작성
3. 채널 링크 URL 형식 검증
4. Influencer 테이블에 정보 저장
5. User 테이블의 role 필드를 "influencer"로 업데이트
6. 홈 (체험단 탐색)으로 리다이렉트

**비즈니스 규칙**
- 채널 링크는 유효한 URL 형식이어야 함
- 팔로워 수는 0 이상의 정수여야 함
- 인플루언서 정보를 등록해야 체험단 지원 가능

---

### 6.3 체험단 관리 (Campaign Management)

#### 6.3.1 체험단 생성 (Create Campaign)

**권한**: 광고주만 가능

**기능 설명**
- 광고주가 새로운 체험단을 생성하여 인플루언서 모집

**입력 필드**
- 체험단명 (title): 필수, 최대 100자
- 체험단 설명 (description): 필수, 최대 2000자
- 모집 인원 (quota): 필수, 양수 정수
- 모집 마감일 (deadline): 필수, 현재 이후 날짜
- 제공 내역 (offer_details): 필수 (예: 제품 무료 제공, 리뷰 당 금액 등)
- 리뷰 조건 (review_requirements): 필수 (예: 유튜브 영상 5분 이상 등)
- 카테고리 (category): 선택 (예: 뷰티, 식품, 라이프 등)
- 이미지 (image_url): 선택, Supabase Storage 업로드

**프로세스**
1. 광고주 대시보드에서 "체험단 생성" 버튼 클릭
2. 체험단 생성 폼 작성
3. 이미지 업로드 (Supabase Storage)
4. Campaign 테이블에 정보 저장
5. 체험단 상태를 "모집 중(recruiting)"으로 설정
6. 광고주 대시보드로 리다이렉트

**비즈니스 규칙**
- 모집 마감일은 현재 이후 날짜여야 함
- 모집 인원은 1명 이상이어야 함
- 체험단 생성 시 자동으로 "모집 중" 상태

---

#### 6.3.2 체험단 목록 조회 (List Campaigns)

**권한**: 모든 사용자 (비로그인 포함)

**기능 설명**
- 모집 중인 체험단 목록을 탐색

**표시 정보**
- 체험단 카드
  - 썸네일 이미지
  - 체험단명
  - 간단한 설명 (최대 100자)
  - 모집 인원 / 현재 지원자 수
  - 모집 마감일
  - 카테고리

**필터 및 정렬**
- 정렬: 최신순, 마감임박순, 인기순
- 필터: 카테고리별 (Phase 2)

**프로세스**
1. 홈 페이지 접속
2. Campaign 테이블에서 "모집 중" 상태의 체험단 조회
3. 페이지네이션 적용 (한 페이지당 12개)
4. 카드 형식으로 목록 표시

---

#### 6.3.3 체험단 상세 조회 (View Campaign Detail)

**권한**: 모든 사용자 (비로그인 포함)

**기능 설명**
- 체험단의 상세 정보를 조회

**표시 정보**
- 체험단명
- 체험단 설명 (전문)
- 모집 인원 / 현재 지원자 수
- 모집 마감일
- 제공 내역
- 리뷰 조건
- 광고주 정보 (업체명)
- 체험단 이미지

**액션**
- [인플루언서만] "지원하기" 버튼
  - 조건: 인플루언서 정보 등록 완료, 모집 중 상태, 중복 지원 아님

**프로세스**
1. 체험단 카드 클릭 또는 URL 직접 접근
2. Campaign 테이블에서 해당 ID의 체험단 조회
3. 상세 정보 렌더링
4. 사용자 권한에 따라 "지원하기" 버튼 표시 여부 결정

---

#### 6.3.4 체험단 지원 (Apply to Campaign)

**권한**: 인플루언서 (정보 등록 완료)

**기능 설명**
- 인플루언서가 체험단에 지원

**입력 필드**
- 지원 메시지 (application_message): 선택, 최대 500자

**프로세스**
1. 체험단 상세 페이지에서 "지원하기" 버튼 클릭
2. 지원 자격 검증
   - 인플루언서 정보 등록 여부
   - 체험단 모집 중 상태
   - 중복 지원 여부
3. 지원 폼 작성
4. Application 테이블에 지원 정보 저장
5. 지원 상태를 "대기 중(pending)"으로 설정
6. 체험단 상세 페이지로 리다이렉트 (지원 완료 메시지)

**비즈니스 규칙**
- 인플루언서 정보를 등록해야 지원 가능
- 동일 체험단에 중복 지원 불가
- 모집 중 상태의 체험단만 지원 가능

---

#### 6.3.5 체험단 모집 조기 종료 (Close Campaign Early)

**권한**: 광고주 (본인 체험단만)

**기능 설명**
- 광고주가 모집 마감일 이전에 체험단 모집을 종료

**프로세스**
1. 광고주 체험단 상세 페이지에서 "모집 종료" 버튼 클릭
2. 확인 모달 표시
3. 확인 시 Campaign 테이블의 status를 "모집 종료(closed)"로 업데이트
4. 새로운 지원 불가 처리
5. 페이지 새로고침

**비즈니스 규칙**
- 모집 중 상태에서만 종료 가능
- 종료 후에는 다시 모집 중으로 변경 불가 (Phase 1)

---

#### 6.3.6 인플루언서 선정 (Select Influencers)

**권한**: 광고주 (본인 체험단, 모집 종료 후)

**기능 설명**
- 광고주가 지원자 중에서 인플루언서를 선정

**프로세스**
1. 광고주 체험단 상세 페이지에서 지원자 목록 확인
2. 지원자별로 "선정" 버튼 클릭
3. 선정 확인 모달 표시
4. 확인 시 Application 테이블의 status를 "선정됨(selected)"으로 업데이트
5. 선정되지 않은 지원자는 "미선정(rejected)" 상태로 변경
6. 페이지 새로고침

**표시 정보 (지원자 목록)**
- 인플루언서 프로필
  - 이름
  - SNS 채널명
  - 채널 링크
  - 팔로워 수
- 지원 메시지
- 지원 날짜

**비즈니스 규칙**
- 모집 종료 상태에서만 선정 가능
- 모집 인원 이내로 선정 (초과 가능, Phase 2에서 제한)
- 선정 후 상태 변경은 불가 (Phase 1)

---

### 6.4 광고주 대시보드 (Advertiser Dashboard)

**권한**: 광고주

**기능 설명**
- 광고주가 자신의 체험단을 관리

**표시 정보**
- 모집 중인 체험단 목록
  - 체험단명
  - 현재 지원자 수 / 모집 인원
  - 모집 마감일
  - "상세 보기" 버튼
- 진행 중인 체험단 목록 (Phase 2)
- 완료된 체험단 목록 (Phase 2)

**액션**
- "체험단 생성" 버튼
- 각 체험단 "상세 보기" 버튼 → 광고주 체험단 상세 페이지

**프로세스**
1. 광고주 로그인 후 "내 대시보드" 클릭
2. Campaign 테이블에서 현재 광고주의 체험단 조회
3. 상태별로 그룹화하여 표시

---

### 6.5 권한 관리 (Authorization)

#### 6.5.1 접근 제어 규칙

**페이지별 접근 권한**은 [3.2 페이지별 접근 권한](#32-페이지별-접근-권한) 참조

**구현 방법**
- Flask 데코레이터를 사용한 권한 검증
  - `@login_required`: 로그인 필수
  - `@advertiser_required`: 광고주 정보 등록 필수
  - `@influencer_required`: 인플루언서 정보 등록 필수

**비즈니스 규칙**
- 광고주는 본인이 생성한 체험단만 관리 가능
- 인플루언서는 본인이 지원한 체험단만 조회 가능 (Phase 2)

---

## 7. 비기능 요구사항

### 7.1 성능 (Performance)

| 항목 | 요구사항 |
|------|----------|
| **페이지 로딩 시간** | 평균 2초 이내 (3G 네트워크 기준) |
| **API 응답 시간** | 평균 500ms 이내 |
| **이미지 최적화** | 썸네일 자동 생성 (Supabase Storage 활용) |
| **데이터베이스 쿼리** | 인덱스 활용으로 조회 성능 최적화 |

### 7.2 보안 (Security)

| 항목 | 요구사항 |
|------|----------|
| **인증** | Supabase Auth (이메일/비밀번호) |
| **세션 관리** | Flask-Login (서버 사이드 세션) |
| **CSRF 보호** | Flask-WTF 사용 (모든 폼에 CSRF 토큰) |
| **XSS 방지** | Jinja2 자동 이스케이프 |
| **SQL Injection 방지** | SQLAlchemy ORM 사용 (Prepared Statement) |
| **환경변수 관리** | python-dotenv로 민감 정보 분리 |
| **HTTPS** | Render 자동 SSL 인증서 |

### 7.3 확장성 (Scalability)

| 항목 | 요구사항 |
|------|----------|
| **아키텍처** | Layered Architecture (4-Tier) |
| **의존성 주입** | DI를 통한 모듈 분리 |
| **데이터베이스** | PostgreSQL (수평 확장 가능) |
| **캐싱** | Redis 도입 예정 (Phase 2) |

### 7.4 유지보수성 (Maintainability)

| 항목 | 요구사항 |
|------|----------|
| **코드 스타일** | Black (Python 코드 포매터) |
| **린팅** | Pylint/Flake8 |
| **테스트 커버리지** | 단위 테스트 60% 이상 (Phase 2) |
| **문서화** | Docstring, README, 아키텍처 문서 |
| **버전 관리** | Git (GitHub) |
| **CI/CD** | Render 자동 배포 |

### 7.5 사용성 (Usability)

| 항목 | 요구사항 |
|------|----------|
| **반응형 디자인** | Bootstrap 5 (모바일/태블릿/데스크톱) |
| **브라우저 지원** | Chrome, Safari, Firefox 최신 2개 버전 |
| **접근성** | WCAG 2.1 Level A 준수 (Phase 2) |
| **에러 메시지** | 사용자 친화적인 한글 메시지 |

### 7.6 가용성 (Availability)

| 항목 | 요구사항 |
|------|----------|
| **업타임** | 99.5% (Render 무료 티어 기준) |
| **백업** | Supabase 자동 백업 (일 1회) |
| **장애 복구** | Render 자동 재시작 |

---

## 8. 기술 스택

### 8.1 백엔드

| 구분 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **프레임워크** | Flask | 3.0+ | Python 웹 프레임워크 |
| **ORM** | Flask-SQLAlchemy | 3.1.1 | 데이터베이스 추상화 |
| **마이그레이션** | Flask-Migrate | 4.0.7 | Alembic 기반 DB 마이그레이션 |
| **인증** | Flask-Login | 0.6.3 | 세션 기반 사용자 인증 |
| **CORS** | Flask-CORS | 4.0.1 | Cross-Origin 요청 처리 |
| **폼 검증** | Flask-WTF | 1.2.1 | 폼 검증 및 CSRF 보호 |
| **WSGI 서버** | Gunicorn | 22.0.0 | 프로덕션 서버 |

### 8.2 데이터베이스

| 구분 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **RDBMS** | PostgreSQL | - | Supabase 기본 DB |
| **어댑터** | psycopg2-binary | 2.9.9 | PostgreSQL Python 어댑터 |

### 8.3 외부 서비스 (BaaS)

| 구분 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **BaaS** | Supabase | 2.4.2 | Auth, Storage, Database |
| **인증** | Supabase Auth | - | 이메일/소셜 로그인 |
| **스토리지** | Supabase Storage | - | 파일 업로드/다운로드 |

### 8.4 프론트엔드

| 구분 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **템플릿 엔진** | Jinja2 | - | Flask 기본 템플릿 엔진 (SSR) |
| **CSS 프레임워크** | Bootstrap | 5.3.2 | 반응형 UI 프레임워크 |
| **JavaScript** | Vanilla JS | - | 가벼운 인터랙션 |

### 8.5 보안 및 유틸리티

| 구분 | 기술 | 버전 | 설명 |
|------|------|------|------|
| **환경변수** | python-dotenv | 1.0.1 | 환경변수 관리 |
| **이메일 검증** | email-validator | 2.1.1 | 이메일 형식 검증 |
| **폼 검증** | WTForms | 3.1.2 | 폼 검증 및 보안 |
| **날짜/시간** | python-dateutil | 2.9.0 | 날짜/시간 처리 |

### 8.6 배포 및 인프라

| 구분 | 기술 | 설명 |
|------|------|------|
| **호스팅** | Render | Flask 앱 호스팅 (무료 티어) |
| **데이터베이스** | Supabase PostgreSQL | 관리형 PostgreSQL |
| **CI/CD** | GitHub + Render | 자동 배포 |
| **도메인/SSL** | Render | 자동 SSL 인증서 |

### 8.7 개발 도구

| 구분 | 기술 | 설명 |
|------|------|------|
| **테스트** | pytest | 테스트 프레임워크 |
| **코드 포매터** | black | Python 코드 포매터 |
| **린터** | pylint/flake8 | 코드 품질 검사 |
| **버전 관리** | Git + GitHub | 소스 관리 |

---

## 9. 데이터 모델

### 9.1 ERD (Entity Relationship Diagram)

```
┌─────────────────┐
│      User       │
├─────────────────┤
│ id (PK)         │◄─────┐
│ email           │      │
│ role            │      │ (1:1)
│ created_at      │      │
└─────────────────┘      │
                         │
    ┌────────────────────┼────────────────────┐
    │                    │                    │
    │ (1:1)              │ (1:1)              │
    │                    │                    │
┌───▼──────────┐   ┌─────▼──────────┐   ┌────▼──────────┐
│  Advertiser  │   │   Influencer   │   │   Campaign    │
├──────────────┤   ├────────────────┤   ├───────────────┤
│ id (PK)      │   │ id (PK)        │   │ id (PK)       │
│ user_id (FK) │   │ user_id (FK)   │   │ advertiser_id │
│ name         │   │ name           │   │   (FK)        │
│ birth_date   │   │ birth_date     │   │ title         │
│ phone_number │   │ phone_number   │   │ description   │
│ business_name│   │ channel_name   │   │ quota         │
│ address      │   │ channel_url    │   │ deadline      │
│ business_ph  │   │ follower_count │   │ status        │
│ business_num │   │ created_at     │   │ created_at    │
│ rep_name     │   └────────────────┘   └───────────────┘
│ created_at   │            │                    │
└──────────────┘            │ (1:N)              │ (1:N)
                            │                    │
                            │    ┌───────────────▼──────┐
                            │    │    Application       │
                            │    ├──────────────────────┤
                            │    │ id (PK)              │
                            └────►│ influencer_id (FK)  │
                                 │ campaign_id (FK)     │
                                 │ application_message  │
                                 │ status               │
                                 │ applied_at           │
                                 └──────────────────────┘
```

### 9.2 테이블 상세 스키마

#### 9.2.1 User (사용자)

| 컬럼명 | 타입 | 제약조건 | 설명 |
|--------|------|----------|------|
| id | UUID | PK | 사용자 고유 ID (Supabase Auth) |
| email | VARCHAR(255) | UNIQUE, NOT NULL | 이메일 |
| role | VARCHAR(20) | NULL | 사용자 역할 (advertiser/influencer) |
| created_at | TIMESTAMP | NOT NULL, DEFAULT NOW() | 생성일 |

**인덱스**
- `idx_user_email` (email)

---

#### 9.2.2 Advertiser (광고주)

| 컬럼명 | 타입 | 제약조건 | 설명 |
|--------|------|----------|------|
| id | SERIAL | PK | 광고주 고유 ID |
| user_id | UUID | FK (User.id), UNIQUE, NOT NULL | 사용자 ID |
| name | VARCHAR(100) | NOT NULL | 이름 |
| birth_date | DATE | NOT NULL | 생년월일 |
| phone_number | VARCHAR(20) | NOT NULL | 휴대폰번호 |
| business_name | VARCHAR(100) | NOT NULL | 업체명 |
| address | TEXT | NOT NULL | 주소 |
| business_phone | VARCHAR(20) | NOT NULL | 업장 전화번호 |
| business_number | VARCHAR(10) | UNIQUE, NOT NULL | 사업자등록번호 |
| representative_name | VARCHAR(100) | NOT NULL | 대표자명 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT NOW() | 생성일 |

**인덱스**
- `idx_advertiser_user_id` (user_id)
- `idx_advertiser_business_number` (business_number)

---

#### 9.2.3 Influencer (인플루언서)

| 컬럼명 | 타입 | 제약조건 | 설명 |
|--------|------|----------|------|
| id | SERIAL | PK | 인플루언서 고유 ID |
| user_id | UUID | FK (User.id), UNIQUE, NOT NULL | 사용자 ID |
| name | VARCHAR(100) | NOT NULL | 이름 |
| birth_date | DATE | NOT NULL | 생년월일 |
| phone_number | VARCHAR(20) | NOT NULL | 휴대폰번호 |
| channel_name | VARCHAR(100) | NOT NULL | SNS 채널명 |
| channel_url | TEXT | NOT NULL | 채널 링크 |
| follower_count | INTEGER | NOT NULL | 팔로워 수 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT NOW() | 생성일 |

**인덱스**
- `idx_influencer_user_id` (user_id)

---

#### 9.2.4 Campaign (체험단)

| 컬럼명 | 타입 | 제약조건 | 설명 |
|--------|------|----------|------|
| id | SERIAL | PK | 체험단 고유 ID |
| advertiser_id | INTEGER | FK (Advertiser.id), NOT NULL | 광고주 ID |
| title | VARCHAR(100) | NOT NULL | 체험단명 |
| description | TEXT | NOT NULL | 체험단 설명 |
| quota | INTEGER | NOT NULL | 모집 인원 |
| deadline | TIMESTAMP | NOT NULL | 모집 마감일 |
| offer_details | TEXT | NOT NULL | 제공 내역 |
| review_requirements | TEXT | NOT NULL | 리뷰 조건 |
| category | VARCHAR(50) | NULL | 카테고리 |
| image_url | TEXT | NULL | 썸네일 이미지 URL |
| status | VARCHAR(20) | NOT NULL, DEFAULT 'recruiting' | 모집 상태 (recruiting/closed) |
| created_at | TIMESTAMP | NOT NULL, DEFAULT NOW() | 생성일 |

**인덱스**
- `idx_campaign_advertiser_id` (advertiser_id)
- `idx_campaign_status` (status)
- `idx_campaign_deadline` (deadline)

---

#### 9.2.5 Application (체험단 지원)

| 컬럼명 | 타입 | 제약조건 | 설명 |
|--------|------|----------|------|
| id | SERIAL | PK | 지원 고유 ID |
| influencer_id | INTEGER | FK (Influencer.id), NOT NULL | 인플루언서 ID |
| campaign_id | INTEGER | FK (Campaign.id), NOT NULL | 체험단 ID |
| application_message | TEXT | NULL | 지원 메시지 |
| status | VARCHAR(20) | NOT NULL, DEFAULT 'pending' | 지원 상태 (pending/selected/rejected) |
| applied_at | TIMESTAMP | NOT NULL, DEFAULT NOW() | 지원일 |

**제약조건**
- `UNIQUE (influencer_id, campaign_id)`: 중복 지원 방지

**인덱스**
- `idx_application_influencer_id` (influencer_id)
- `idx_application_campaign_id` (campaign_id)
- `idx_application_status` (status)

---

### 9.3 상태 코드 (Status Codes)

#### Campaign Status
- `recruiting`: 모집 중
- `closed`: 모집 종료

#### Application Status
- `pending`: 대기 중
- `selected`: 선정됨
- `rejected`: 미선정

#### User Role
- `advertiser`: 광고주
- `influencer`: 인플루언서

---

## 10. 제약사항 및 가정

### 10.1 기술적 제약사항

| 항목 | 제약사항 |
|------|----------|
| **무료 티어 제한** | Render: 월 750시간, 15분 비활성화 시 Sleep 모드 |
| **데이터베이스** | Supabase 무료: 500MB, 연결 수 제한 |
| **스토리지** | Supabase 무료: 1GB 파일 스토리지 |
| **이메일 인증** | Phase 1에서는 이메일 인증 미구현 (회원가입 즉시 로그인 가능) |
| **소셜 로그인** | Phase 1에서는 이메일 로그인만 지원 |

### 10.2 비즈니스 제약사항

| 항목 | 제약사항 |
|------|----------|
| **결제 시스템** | Phase 1에서는 미구현 (Phase 2에서 도입) |
| **리뷰 검수** | Phase 1에서는 미구현 (광고주가 수동 확인) |
| **알림 기능** | Phase 1에서는 미구현 (Phase 2에서 Realtime 활용) |
| **관리자 페이지** | Phase 1에서는 미구현 |

### 10.3 사용자 가정

| 항목 | 가정 |
|------|------|
| **타겟 사용자** | 한국어 사용자 (한글 UI) |
| **디바이스** | 모바일/태블릿/데스크톱 (반응형) |
| **브라우저** | 최신 모던 브라우저 (Chrome, Safari, Firefox) |
| **네트워크** | 3G 이상 인터넷 연결 |

### 10.4 데이터 가정

| 항목 | 가정 |
|------|------|
| **사용자 수** | Phase 1: 광고주 100명, 인플루언서 500명 |
| **체험단 수** | Phase 1: 월 50개 |
| **지원 수** | Phase 1: 체험단당 평균 20건 |
| **이미지 크기** | 최대 5MB |

---

## 11. 개발 우선순위

### 11.1 Phase 1 (MVP) - 4주

**Week 1: 인프라 및 인증**
- [x] Flask 프로젝트 초기 설정
- [x] Layered Architecture 구조 설계
- [ ] Supabase 연동 (Auth, Database)
- [ ] User 모델 및 Repository 구현
- [ ] 회원가입/로그인 기능

**Week 2: 사용자 정보 등록**
- [ ] Advertiser/Influencer 모델 구현
- [ ] 광고주 정보 등록 기능
- [ ] 인플루언서 정보 등록 기능
- [ ] 권한 관리 데코레이터

**Week 3: 체험단 관리**
- [ ] Campaign 모델 구현
- [ ] 체험단 생성/목록/상세 기능
- [ ] 광고주 대시보드
- [ ] 이미지 업로드 (Supabase Storage)

**Week 4: 체험단 지원 및 선정**
- [ ] Application 모델 구현
- [ ] 체험단 지원 기능
- [ ] 모집 조기 종료 기능
- [ ] 인플루언서 선정 기능
- [ ] UI/UX 개선 및 테스트

### 11.2 Phase 2 (확장) - 8주

**Week 5-6: 리뷰 관리**
- [ ] 리뷰 제출 기능
- [ ] 리뷰 검수 기능
- [ ] 리뷰 승인/반려

**Week 7-8: 알림 및 소셜 로그인**
- [ ] Supabase Realtime 연동
- [ ] 실시간 알림 (지원, 선정, 리뷰 승인)
- [ ] 소셜 로그인 (카카오, 네이버)

**Week 9-10: 결제 시스템**
- [ ] 결제 API 연동 (토스페이먼츠 등)
- [ ] 보상 지급 시스템

**Week 11-12: 관리자 페이지 및 통계**
- [ ] 관리자 페이지
- [ ] 사용자 관리, 신고 처리
- [ ] 대시보드 통계 (차트)

---

## 12. 부록

### 12.1 참고 문서

- `docs/requirement.md`: 기능 요구사항
- `docs/tech_stack_recommendation.md`: 기술 스택 권장사항
- `CLAUDE.md`: Codebase Structure 및 아키텍처 가이드

### 12.2 용어 정의

| 용어 | 설명 |
|------|------|
| **체험단** | 광고주가 제품/서비스를 무료로 제공하고 인플루언서가 리뷰를 작성하는 마케팅 캠페인 |
| **광고주** | 제품/서비스를 홍보하고자 하는 사업자 |
| **인플루언서** | SNS 채널을 보유하고 체험 리뷰를 작성하는 사용자 |
| **모집 종료** | 체험단 모집을 마감하는 행위 |
| **선정** | 광고주가 지원자 중에서 인플루언서를 선택하는 행위 |

### 12.3 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0.0 | 2025-11-14 | 초기 PRD 작성 | Claude |

---

**문서 끝**
